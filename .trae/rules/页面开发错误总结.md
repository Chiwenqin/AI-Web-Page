# 页面开发错误总结

基于楼门管理页面开发经验，总结了以下常见错误及避免方法：

## 主要错误类型

1. **API端点缺失** - 确保完整实现后端四层架构（Controller → Service → Mapper → Entity）
2. **包声明缺失** - 所有Java文件必须有正确的`package`声明
3. **Jakarta EE迁移** - 使用`jakarta.*`包替代`javax.*`包
4. **Controller类型转换** - 分页查询使用`getDataTableByPage()`而非`getDataTable()`
5. **MyBatis参数绑定** - Mapper接口使用`@Param("ew")`，XML使用`${ew.customSqlSegment}`
6. **SQL列名歧义** - 多表查询时列名必须加表别名前缀（如`ae.village_id`）
7. **路由权限配置** - 必须提供路由地址、权限字符、组件路径
8. **数据库表引用错误** - 确保Mapper XML中引用的所有表都存在，避免引用不存在的表
9. **函数返回值类型不一致** - 异步函数必须始终返回Promise，即使参数为空时也应返回`Promise.resolve()`
10. **创建人/更新人字段缺失** - 数据库表中这些字段通常不允许为null，需要在Controller中手动设置（使用`getUsername()`）
11. **批量删除参数类型错误** - 区分单条删除和批量删除，调用正确的API接口，避免将数组传递给单条删除接口

## 关键检查点

- **后端**：包声明、导入语句、Mapper参数、Controller返回类型
- **数据库**：SQL脚本完整、测试数据、字段类型匹配
- **前端**：API路径匹配、组件结构、级联联动逻辑
- **配置**：路由、权限、组件路径配置完整

## 开发顺序建议

1. 数据库表结构 → 2. 实体类 → 3. Mapper → 4. Service → 5. Controller → 6. 前端API → 7. Vue组件
每层完成后进行简单测试，先解决编译错误再处理运行时错误。